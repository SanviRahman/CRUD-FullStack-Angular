<div class="container">
  <h2>Create New User:</h2>
  
  <form #userForm="ngForm" (ngSubmit)="onSubmit(userForm)">
    <!-- Name Field -->
    <div class="form-group">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" [(ngModel)]="user.name" #name="ngModel" required minlength="3"
      placeholder="Enter full name">

      <div *ngIf="name.invalid && (name.dirty || name.touched)" class="error-message" style="color: red;">
        <small *ngIf="name.errors?.['required']">Name is required.</small>
        <small *ngIf="name.errors?.['minlength']">Name must be at least 3 characters.</small>
      </div>
    </div>

    <pre></pre>

    <!-- Email Field -->
    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" [(ngModel)]="user.email" #email="ngModel" required email 
        placeholder="Enter email address">

      <div *ngIf="email.invalid && (email.dirty || email.touched)" class="error-message" style="color: red;">
        <small *ngIf="email.errors?.['required']">Email is required.</small>
        <small *ngIf="email.errors?.['email']">Please enter a valid email.</small>
      </div>
    </div>

    <pre></pre>

    <!-- Phone Field -->
    <div class="form-group">
      <label for="phone">Phone:</label>
      <input type="tel" id="phone" name="phone" [(ngModel)]="user.phone" #phone="ngModel" required 
        pattern="^[0-9]{11}$"
        placeholder="Enter phone number">

      <div *ngIf="phone.invalid && (phone.dirty || phone.touched)" class="error-message" style="color: red;">
        <small *ngIf="phone.errors?.['required']">Phone number is required.</small>
        <small *ngIf="phone.errors?.['pattern']">Enter a valid phone number (11 digits).</small>
      </div>
    </div>

    <pre></pre>

    <pre></pre>

    <div class="form-actions">
      <button type="submit" class="btn-submit" 
        [disabled]="submitting || userForm.invalid"
        style="margin-right: 20px;">
        {{ submitting ? 'Creating...' : 'Create User' }}
      </button>

      <button>
        <a routerLink="/" class="btn-cancel" style="text-decoration: none;">Cancel</a>
      </button>
    </div>
  </form>
</div>
